# password_manager
apprenticeのWEBテスト用に作成したシェルスクリプトです。<br>
questに記載されている仕様通りの結果になるよう作成しました。（コミット名：add password_manager.sh）<br>
その後、実際に使用してみて、修正した方が良さそうな部分を修正し、「usability update」としてコミットしました。<br>
パスワード管理ファイルの暗号化機能を追加しました。（コミット名：add encrypt）


## 変更点
### Add Password
・サービス名/ユーザー名/パスワードが未入力の場合<br>
　→「サービス名/ユーザー名/パスワード が未入力です」を出力後、再度入力できるように修正。

・サービスがすでに登録されている場合<br>
　→「そのサービスはすでに登録されています」を出力後、再度入力できるように修正。

・パスワードの入力を非表示に<br>
　→セキュリティの観点から、パスワード入力時は画面に表示させないよう、-sオプションを追加。


### Get Password
・password.txtが作成されていない状態でGet Passwordを実行した場合<br>
　→grepコマンドのエラーが出力されるため、「2> /dev/null」を追記し、エラーを非表示に。grepコマンドを変数に格納し、エラー判定を行う。

・サービス名が未入力の場合<br>
　→「サービス名が未入力です」を出力するように修正。


### その他
・(Add Password/Get Password/Exit)<br>
　↓ 可読性が悪いため、前後にスペース追加<br>
　( Add Password / Get Password / Exit )

・パスワードが間違えています<br>
　↓ 日本語の修正<br>
　パスワードが間違っています

・パスワードの追加は成功しました<br>
　↓ 日本語の修正<br>
　パスワードの追加に成功しました


### 暗号化
・opensslを使用<br>
　→opensslを使用し、パスワード管理ファイルの暗号化、復号化処理を追加。

・password.txtを常に暗号化<br>
　→パスワードはpassword_lock.txtへ保存し、Add Password, Get Passwordの処理の中でのみpassword_lock.txtを復号化。途中で処理をキャンセル（ctl+c）されても、復号化されたファイルは残らない。

・openssl使用のためログイン機能を実装<br>
　→暗号化、復号化のためにパスワードが必要なので、起動時にパスワードの入力を求めるよう変更。カレントディレクトリに、password_lock.txtが存在するかどうかで、初めての使用（パスワードが未設定）かどうかを判定。（問題点：ユーザーのディレクトリにたまたま「password_lock.txt」が存在している場合、ログインが不可能になる。）

・opensslがインストールされているかチェック<br>
　→opensslコマンドが使えなければ暗号化処理ができないので、シェルスクリプト実行時に、opensslがインストールされているかをチェックする処理を追加。


## 今後のアップデート
極力、questに記載された内容を遵守し、一方で不具合が生じる使い方を避けるような修正に留めています。
ただし、さらに改善できるポイントを挙げ、「今後のアップデート」として以下に記述しておきます。

・メニュー選択時に、「Add Password」と直接入力するのは面倒なので選択できるよう変更

・編集、削除機能の追加

・登録しているパスワードをすべて一覧表示する機能の追加

・処理を途中でキャンセルし、いつでもメニューに戻れる機能の追加

・ログインパスワードのリセット機能の追加